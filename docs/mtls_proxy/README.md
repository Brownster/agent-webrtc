# mTLS Proxy Server (Node Example)

This directory contains a simple Node.js proxy demonstrating how to add optional
mTLS support. It forwards metrics from the extension to a customer's Pushgateway
using mutual TLS.

A production-ready Go implementation can be found in `docs/mtls_proxy_go`.

## Overview

1. The browser extension can send metrics either directly to a Pushgateway or
   through this proxy.
2. When using the proxy, the extension authenticates with an API key. The proxy
   forwards the request to the appropriate Pushgateway using client
   certificates.

## Files

- `proxy-server.js` – Example Node.js/Express proxy server implementing mTLS
  forwarding.
- `onboard_customer.sh` – Utility script to generate certificates and API keys
  for new customers and update the proxy configuration.

## Usage

1. Copy the files in this directory to your server that will host the proxy.
2. Follow the instructions in `onboard_customer.sh` to set up a Certificate
   Authority (CA) and onboard customers.
3. Deploy the proxy and use the API keys generated by the script within the
   browser extension settings when mTLS is required.
